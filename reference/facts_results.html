<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Read trial simulation results — facts_results • rfacts</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Read trial simulation results — facts_results"><meta property="og:description" content='These functions read trial simulation results. The results were
computed by FACTS (via run_facts() or run_engine() or
one of the engine functions such as run_engine_contin())
and are stored in CSV files. Different functions read different types
of output. The functions are named according to the CSV files they read.
For example, read_patients() reads all files named
patients00001.csv, patients00002.csv, etc. The most important
functions are read_patients() and read_weeks().
The read_s1*(), read_s2*(), and read_master*() functions
are for staged designs. The read_csv_special() function allows you to
supply a custom file name prefix such as "patients",
but be warned: not every kind of CSV output file is tested in rfacts.'><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rfacts</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/config.html">System configuration</a>
    </li>
    <li>
      <a href="../articles/generate.html">Generating FACTS files</a>
    </li>
    <li>
      <a href="../articles/te.html">Trial execution mode</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/EliLillyCo/rfacts/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Read trial simulation results</h1>
    <small class="dont-index">Source: <a href="https://github.com/EliLillyCo/rfacts/blob/HEAD/R/csv.R" class="external-link"><code>R/csv.R</code></a></small>
    <div class="hidden name"><code>facts_results.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>These functions read trial simulation results. The results were
computed by FACTS (via <code><a href="run_facts.html">run_facts()</a></code> or <code><a href="run_engine.html">run_engine()</a></code> or
one of the engine functions such as <code><a href="facts_engines.html">run_engine_contin()</a></code>)
and are stored in CSV files. Different functions read different types
of output. The functions are named according to the CSV files they read.
For example, <code>read_patients()</code> reads all files named
<code>patients00001.csv</code>, <code>patients00002.csv</code>, etc. The most important
functions are <code>read_patients()</code> and <code>read_weeks()</code>.
The <code>read_s1*()</code>, <code>read_s2*()</code>, and <code>read_master*()</code> functions
are for staged designs. The <code>read_csv_special()</code> function allows you to
supply a custom file name prefix such as "patients",
but be warned: not every kind of CSV output file is tested in <code>rfacts</code>.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">read_patients</span><span class="op">(</span><span class="va">csv_files</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">read_weeks</span><span class="op">(</span><span class="va">csv_files</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">read_mcmc</span><span class="op">(</span><span class="va">csv_files</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">read_s1_mcmc</span><span class="op">(</span><span class="va">csv_files</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">read_s1_weeks</span><span class="op">(</span><span class="va">csv_files</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">read_s1_patients</span><span class="op">(</span><span class="va">csv_files</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">read_s2_patients</span><span class="op">(</span><span class="va">csv_files</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">read_s2_weeks</span><span class="op">(</span><span class="va">csv_files</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">read_s2_mcmc</span><span class="op">(</span><span class="va">csv_files</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">read_master_mcmc</span><span class="op">(</span><span class="va">csv_files</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">read_master_patients</span><span class="op">(</span><span class="va">csv_files</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">read_master_weeks</span><span class="op">(</span><span class="va">csv_files</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">read_cohorts</span><span class="op">(</span><span class="va">csv_files</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">read_simulations</span><span class="op">(</span><span class="va">csv_files</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">read_csv_special</span><span class="op">(</span><span class="va">csv_files</span>, <span class="va">prefix</span>, numbered <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>csv_files</dt>
<dd><p>Character vector of file paths.
Either the directories containing the trial simulation
results or the actual CSV file files themselves.</p></dd>


<dt>prefix</dt>
<dd><p>Character, name of the prefix for <code>read_csv_special()</code>.
<code>read_weeks(x)</code> is equivalent to <code>read_csv_special(x, prefix = "weeks")</code>.
Be careful: not all kinds of CSV output are tested. We can only
guarantee the file types with special functions will be read
correctly, e.g. <code>read_patients()</code> and <code>read_weeks()</code>.</p></dd>


<dt>numbered</dt>
<dd><p>Logical. If <code>TRUE</code>,
only read the numbered files like <code>patients00001.csv</code>,
<code>weeks00017.csv</code>, etc. If <code>FALSE</code>, only list the non-numbered files
like <code>simulations.csv</code> and <code>simulations_freq_locf.csv</code>.
Avoid <code>summary.csv</code> files. They are not reliable on Linux.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A data frame of trial simulation data. Each <code>read_*()</code> function
returns different information, but all the <code>read_*()</code> functions
support the following columns:</p><ul><li><p><code>facts_file</code>: character, the base name of the FACTS file.</p></li>
<li><p><code>facts_scenario</code>: character, the name of the simulation scenario
from FACTS. Usually, this factors in the virtual subject response
(VSR) profile, accrual profile (how fast do patients enroll?)
and dropout profile (how fast do they drop out?).</p></li>
<li><p><code>facts_sim</code>: integer, numeric index of the CSV file name. For example,
the <code>facts_sim</code> of <code>patients00012.csv</code> is <code>12</code>. In trial execution mode,
all these indices are 00000, so <code>facts_id</code> is much
safer than <code>facts_sim</code> for packetized trial execution mode.</p></li>
<li><p><code>facts_id</code>: character, random unique id of each CSV file being read.
Different for every call to <code>read_patients()</code> etc.
Safer than <code>facts_sim</code> for aggregation over simulations.</p></li>
<li><p><code>facts_output</code>: character, type of output is in the data frame:
<code>"patients"</code> for patients files, <code>"weeks"</code> for weeks files,
<code>"mcmc"</code> for MCMC files, etc. These names adhere to established
conventions in FACTS.</p></li>
<li><p><code>facts_csv</code>: character, full path to the original CSV files where
FACTS stored the simulation output. Required for <code><a href="overwrite_csv_files.html">overwrite_csv_files()</a></code>.</p></li>
<li><p><code>facts_header</code>: a character vector of <code>\n</code>-delimited CSV file headers.
Required for <code><a href="overwrite_csv_files.html">overwrite_csv_files()</a></code>.</p></li>
</ul></div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="get_facts_file_example.html">get_facts_file_example()</a></code>, <code><a href="run_facts.html">run_facts()</a></code>, <code><a href="run_flfll.html">run_flfll()</a></code>,
<code><a href="run_engine.html">run_engine()</a></code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Can only run if system dependencies are configured:</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.exists</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"RFACTS_PATHS"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="va">facts_file</span> <span class="op">&lt;-</span> <span class="fu"><a href="get_facts_file_example.html">get_facts_file_example</a></span><span class="op">(</span><span class="st">"contin.facts"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">out</span> <span class="op">&lt;-</span> <span class="fu"><a href="run_facts.html">run_facts</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">facts_file</span>,</span></span>
<span class="r-in"><span>  n_sims <span class="op">=</span> <span class="fl">4</span>,</span></span>
<span class="r-in"><span>  verbose <span class="op">=</span> <span class="cn">FALSE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># What results files do we have?</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="get_csv_files.html">get_csv_files</a></span><span class="op">(</span><span class="va">out</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Read all the "patients*.csv" files with `read_patients(out)`.</span></span></span>
<span class="r-in"><span><span class="co"># For each scenario, we have files named</span></span></span>
<span class="r-in"><span><span class="co"># patients00001.csv, patients00002.csv, patients00003.csv,</span></span></span>
<span class="r-in"><span><span class="co"># and patients00004.csv.</span></span></span>
<span class="r-in"><span><span class="fu">read_patients</span><span class="op">(</span><span class="va">out</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by William Michael Landau.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.9000.</p>
</div>

      </footer></div>

  


  

  </body></html>

